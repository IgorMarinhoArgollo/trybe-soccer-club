{"/home/igor/portfolio-projects/tfc/app/backend/src/middlewares/errorMiddleware.ts":{"path":"/home/igor/portfolio-projects/tfc/app/backend/src/middlewares/errorMiddleware.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":24},"end":{"line":3,"column":102}},"2":{"start":{"line":3,"column":51},"end":{"line":3,"column":102}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":3,"column":24},"end":{"line":3,"column":25}},"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":102}},"line":3}},"branchMap":{},"s":{"0":1,"1":1,"2":13,"3":1},"f":{"0":13},"b":{},"inputSourceMap":{"version":3,"file":"/home/igor/portfolio-projects/tfc/app/backend/src/middlewares/errorMiddleware.ts","sources":["/home/igor/portfolio-projects/tfc/app/backend/src/middlewares/errorMiddleware.ts"],"names":[],"mappings":";;AAEA,MAAM,eAAe,GAAwB,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,KAAK,EAAE,EAAE,CACrE,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC;AAEtD,kBAAe,eAAe,CAAC","sourcesContent":["import { ErrorRequestHandler } from 'express';\n\nconst errorMiddleware: ErrorRequestHandler = (err, _req, res, _next) =>\n  res.status(err.code).json({ message: err.message });\n\nexport default errorMiddleware;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b7caa192047376148c58a3a4e26d2dba0348b6e3"},"/home/igor/portfolio-projects/tfc/app/backend/src/routes/LoginRouter.ts":{"path":"/home/igor/portfolio-projects/tfc/app/backend/src/routes/LoginRouter.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":26},"end":{"line":4,"column":67}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":46}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":31}},"5":{"start":{"line":11,"column":8},"end":{"line":11,"column":72}},"6":{"start":{"line":12,"column":8},"end":{"line":12,"column":67}},"7":{"start":{"line":15,"column":0},"end":{"line":15,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":18},"end":{"line":9,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":22},"end":{"line":13,"column":5}},"line":10}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/igor/portfolio-projects/tfc/app/backend/src/routes/LoginRouter.ts","sources":["/home/igor/portfolio-projects/tfc/app/backend/src/routes/LoginRouter.ts"],"names":[],"mappings":";;AAAA,qCAAiC;AACjC,oEAA6D;AAE7D,MAAqB,WAAW;IAG9B;QACE,IAAI,CAAC,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;QACvB,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IAES,eAAe;QACvB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,WAAW,EAAE,yBAAe,CAAC,OAAO,CAAC,CAAC;QACtD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,yBAAe,CAAC,SAAS,CAAC,CAAC;IACnD,CAAC;CACF;AAZD,8BAYC","sourcesContent":["import { Router } from 'express';\nimport LoginController from '../controllers/LoginController';\n\nexport default class LoginRouter {\n  public router: Router;\n\n  constructor() {\n    this.router = Router();\n    this.loginController();\n  }\n\n  protected loginController(): void {\n    this.router.get('/validate', LoginController.getRole);\n    this.router.post('/', LoginController.postLogin);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"30543035bb103208f569a0bcee96026d0648411d"},"/home/igor/portfolio-projects/tfc/app/backend/src/controllers/LoginController.ts":{"path":"/home/igor/portfolio-projects/tfc/app/backend/src/controllers/LoginController.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":35}},"2":{"start":{"line":4,"column":15},"end":{"line":4,"column":32}},"3":{"start":{"line":5,"column":23},"end":{"line":5,"column":58}},"4":{"start":{"line":6,"column":21},"end":{"line":6,"column":52}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":16}},"6":{"start":{"line":10,"column":8},"end":{"line":25,"column":9}},"7":{"start":{"line":11,"column":40},"end":{"line":11,"column":48}},"8":{"start":{"line":12,"column":12},"end":{"line":14,"column":13}},"9":{"start":{"line":13,"column":16},"end":{"line":13,"column":86}},"10":{"start":{"line":15,"column":27},"end":{"line":15,"column":110}},"11":{"start":{"line":16,"column":12},"end":{"line":18,"column":13}},"12":{"start":{"line":17,"column":16},"end":{"line":17,"column":88}},"13":{"start":{"line":19,"column":12},"end":{"line":21,"column":15}},"14":{"start":{"line":24,"column":12},"end":{"line":24,"column":24}},"15":{"start":{"line":28,"column":8},"end":{"line":38,"column":9}},"16":{"start":{"line":29,"column":38},"end":{"line":29,"column":49}},"17":{"start":{"line":30,"column":12},"end":{"line":32,"column":13}},"18":{"start":{"line":31,"column":16},"end":{"line":31,"column":76}},"19":{"start":{"line":33,"column":27},"end":{"line":33,"column":110}},"20":{"start":{"line":34,"column":12},"end":{"line":34,"column":48}},"21":{"start":{"line":37,"column":12},"end":{"line":37,"column":24}},"22":{"start":{"line":41,"column":0},"end":{"line":41,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":43},"end":{"line":26,"column":5}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":41},"end":{"line":39,"column":5}},"line":27}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":12},"end":{"line":14,"column":13}},"type":"if","locations":[{"start":{"line":12,"column":12},"end":{"line":14,"column":13}},{"start":{"line":12,"column":12},"end":{"line":14,"column":13}}],"line":12},"1":{"loc":{"start":{"line":12,"column":16},"end":{"line":12,"column":35}},"type":"binary-expr","locations":[{"start":{"line":12,"column":16},"end":{"line":12,"column":22}},{"start":{"line":12,"column":26},"end":{"line":12,"column":35}}],"line":12},"2":{"loc":{"start":{"line":16,"column":12},"end":{"line":18,"column":13}},"type":"if","locations":[{"start":{"line":16,"column":12},"end":{"line":18,"column":13}},{"start":{"line":16,"column":12},"end":{"line":18,"column":13}}],"line":16},"3":{"loc":{"start":{"line":20,"column":53},"end":{"line":20,"column":91}},"type":"binary-expr","locations":[{"start":{"line":20,"column":53},"end":{"line":20,"column":75}},{"start":{"line":20,"column":79},"end":{"line":20,"column":91}}],"line":20},"4":{"loc":{"start":{"line":30,"column":12},"end":{"line":32,"column":13}},"type":"if","locations":[{"start":{"line":30,"column":12},"end":{"line":32,"column":13}},{"start":{"line":30,"column":12},"end":{"line":32,"column":13}}],"line":30}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":4,"7":4,"8":4,"9":1,"10":3,"11":2,"12":1,"13":1,"14":1,"15":3,"16":3,"17":3,"18":1,"19":2,"20":1,"21":1,"22":1},"f":{"0":4,"1":3},"b":{"0":[1,3],"1":[4,3],"2":[1,1],"3":[1,0],"4":[1,2]},"inputSourceMap":{"version":3,"file":"/home/igor/portfolio-projects/tfc/app/backend/src/controllers/LoginController.ts","sources":["/home/igor/portfolio-projects/tfc/app/backend/src/controllers/LoginController.ts"],"names":[],"mappings":";;AACA,oCAAoC;AACpC,iCAAiC;AAEjC,2DAAoD;AACpD,qDAA8C;AAE9C,MAAM,CAAC,MAAM,EAAE,CAAC;AAEhB,MAA8B,eAAe;IAC3C,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;QACpE,IAAI;YACF,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAkB,CAAC;YACnD,IAAI,CAAC,KAAK,IAAI,CAAC,QAAQ,EAAE;gBACvB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,2BAA2B,EAAE,CAAC,CAAC;aACvE;YACD,MAAM,MAAM,GAAG,MAAM,IAAI,sBAAY,CAAC,IAAI,oBAAU,EAAE,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;YAC/E,IAAI,CAAC,MAAM,EAAE;gBAAE,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,6BAA6B,EAAE,CAAC,CAAC;aAAE;YACzF,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBAC1B,KAAK,EAAE,UAAU,GAAG,CAAC,IAAI,CACvB,EAAE,KAAK,EAAE,EACT,OAAO,CAAC,GAAG,CAAC,UAAU,IAAI,YAAY,EACtC,EAAE,SAAS,EAAE,IAAI,EAAE,CACpB,EAAE;aACJ,CAAC,CAAC;SACJ;QAAC,OAAO,KAAK,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,CAAC;SACb;IACH,CAAC;IAED,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;QAClE,IAAI;YACF,MAAM,EAAE,aAAa,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC;YACtC,IAAI,CAAC,aAAa,EAAE;gBAClB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,iBAAiB,EAAE,CAAC,CAAC;aAC7D;YACD,MAAM,MAAM,GAAG,MAAM,IAAI,sBAAY,CAAC,IAAI,oBAAU,EAAE,CAAC,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;YAC/E,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SACrC;QAAC,OAAO,KAAK,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,CAAC;SACb;IACH,CAAC;CACF;AAjCD,kCAiCC","sourcesContent":["import { Request, Response, NextFunction } from 'express';\nimport * as jwt from 'jsonwebtoken';\nimport * as dotenv from 'dotenv';\nimport { ILoginInfo } from '../interfaces/IUser';\nimport LoginService from '../services/LoginService';\nimport LoginModel from '../models/LoginModel';\n\ndotenv.config();\n\nexport default abstract class LoginController {\n  static async postLogin(req: Request, res: Response, next: NextFunction) {\n    try {\n      const { email, password } = req.body as ILoginInfo;\n      if (!email || !password) {\n        return res.status(400).json({ message: 'All fields must be filled' });\n      }\n      const result = await new LoginService(new LoginModel()).login(email, password);\n      if (!result) { return res.status(401).json({ message: 'Incorrect email or password' }); }\n      return res.status(200).json({\n        token: `Bearer ${jwt.sign(\n          { email },\n          process.env.JWT_SECRET || 'jwt_secret',\n          { expiresIn: '7d' },\n        )}`,\n      });\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  static async getRole(req: Request, res: Response, next: NextFunction) {\n    try {\n      const { authorization } = req.headers;\n      if (!authorization) {\n        return res.status(401).json({ message: 'Token not Found' });\n      }\n      const result = await new LoginService(new LoginModel()).getRole(authorization);\n      return res.status(200).json(result);\n    } catch (error) {\n      next(error);\n    }\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3a00bdb51df00601d6c12d8ee87c035f008ada9a"},"/home/igor/portfolio-projects/tfc/app/backend/src/services/LoginService.ts":{"path":"/home/igor/portfolio-projects/tfc/app/backend/src/services/LoginService.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":17},"end":{"line":3,"column":45}},"2":{"start":{"line":4,"column":14},"end":{"line":4,"column":39}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":37}},"4":{"start":{"line":10,"column":23},"end":{"line":10,"column":60}},"5":{"start":{"line":11,"column":8},"end":{"line":13,"column":9}},"6":{"start":{"line":12,"column":12},"end":{"line":12,"column":26}},"7":{"start":{"line":14,"column":8},"end":{"line":14,"column":20}},"8":{"start":{"line":17,"column":22},"end":{"line":17,"column":46}},"9":{"start":{"line":18,"column":22},"end":{"line":18,"column":56}},"10":{"start":{"line":19,"column":23},"end":{"line":19,"column":66}},"11":{"start":{"line":20,"column":8},"end":{"line":20,"column":22}},"12":{"start":{"line":23,"column":0},"end":{"line":23,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":28},"end":{"line":8,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":33},"end":{"line":15,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":33},"end":{"line":21,"column":5}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":8},"end":{"line":13,"column":9}},"type":"if","locations":[{"start":{"line":11,"column":8},"end":{"line":13,"column":9}},{"start":{"line":11,"column":8},"end":{"line":13,"column":9}}],"line":11},"1":{"loc":{"start":{"line":11,"column":12},"end":{"line":11,"column":72}},"type":"binary-expr","locations":[{"start":{"line":11,"column":12},"end":{"line":11,"column":18}},{"start":{"line":11,"column":22},"end":{"line":11,"column":72}}],"line":11}},"s":{"0":1,"1":1,"2":1,"3":10,"4":3,"5":2,"6":1,"7":1,"8":7,"9":7,"10":6,"11":5,"12":1},"f":{"0":10,"1":3,"2":7},"b":{"0":[1,1],"1":[2,2]},"inputSourceMap":{"version":3,"file":"/home/igor/portfolio-projects/tfc/app/backend/src/services/LoginService.ts","sources":["/home/igor/portfolio-projects/tfc/app/backend/src/services/LoginService.ts"],"names":[],"mappings":";;AAGA,8CAAuC;AACvC,wCAAiC;AAGjC,MAAqB,YAAY;IAC/B,YACU,UAAuB;QAAvB,eAAU,GAAV,UAAU,CAAa;IAC7B,CAAC;IAEL,KAAK,CAAC,KAAK,CAAC,KAAa,EAAE,QAAgB;QACzC,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QACrD,IAAI,MAAM,IAAI,gBAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,QAAQ,CAAC,EAAE;YACtD,OAAO,MAAM,CAAC;SACf;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,aAAqB;QACjC,MAAM,KAAK,GAAG,aAAa,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACvC,MAAM,KAAK,GAAG,MAAM,aAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAwB,CAAC;QAC9D,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAC3D,OAAO,MAAM,CAAC;IAChB,CAAC;CACF;AAnBD,+BAmBC","sourcesContent":["import { IRole, IUser } from '../interfaces/IUser';\nimport { ILoginService } from '../interfaces/IServices';\nimport { ILoginModel } from '../interfaces/IModels';\nimport Bcrypt from '../helpers/Bcrypt';\nimport Jwt from '../helpers/Jwt';\nimport IJwtAuth from '../interfaces/IJwtAuth';\n\nexport default class LoginService implements ILoginService {\n  constructor(\n    private loginModel: ILoginModel,\n  ) { }\n\n  async login(email: string, password: string): Promise<IUser | null> {\n    const result = await this.loginModel.findUser(email);\n    if (result && Bcrypt.verify(password, result.password)) {\n      return result;\n    }\n    return null;\n  }\n\n  async getRole(authorization: string): Promise<IRole | null> {\n    const token = authorization.split(' ');\n    const email = await Jwt.auth(token[1]) as unknown as IJwtAuth;\n    const result = await this.loginModel.findRole(email.email);\n    return result;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"36b11938abddc88fa181c0675b166eccd26a3150"},"/home/igor/portfolio-projects/tfc/app/backend/src/middlewares/Err.ts":{"path":"/home/igor/portfolio-projects/tfc/app/backend/src/middlewares/Err.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":23}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":25}},"3":{"start":{"line":9,"column":0},"end":{"line":9,"column":22}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":31},"end":{"line":7,"column":5}},"line":4}},"branchMap":{},"s":{"0":1,"1":13,"2":13,"3":1},"f":{"0":13},"b":{},"inputSourceMap":{"version":3,"file":"/home/igor/portfolio-projects/tfc/app/backend/src/middlewares/Err.ts","sources":["/home/igor/portfolio-projects/tfc/app/backend/src/middlewares/Err.ts"],"names":[],"mappings":";;AAAA,MAAqB,GAAI,SAAQ,KAAK;IACpC,YACS,IAAY,EACnB,OAAe;QAEf,KAAK,CAAC,OAAO,CAAC,CAAC;QAHR,SAAI,GAAJ,IAAI,CAAQ;IAIrB,CAAC;CACF;AAPD,sBAOC","sourcesContent":["export default class Err extends Error {\n  constructor(\n    public code: number,\n    message: string,\n  ) {\n    super(message);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"43901bbe4228ff9034f8d8b6ba1d1fdbcebfeee6"},"/home/igor/portfolio-projects/tfc/app/backend/src/models/LoginModel.ts":{"path":"/home/igor/portfolio-projects/tfc/app/backend/src/models/LoginModel.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":15},"end":{"line":3,"column":49}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":35}},"3":{"start":{"line":9,"column":8},"end":{"line":12,"column":12}},"4":{"start":{"line":15,"column":8},"end":{"line":21,"column":12}},"5":{"start":{"line":24,"column":0},"end":{"line":24,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":18},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":26},"end":{"line":13,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":26},"end":{"line":22,"column":5}},"line":14}},"branchMap":{},"s":{"0":1,"1":1,"2":10,"3":3,"4":6,"5":1},"f":{"0":10,"1":3,"2":6},"b":{},"inputSourceMap":{"version":3,"file":"/home/igor/portfolio-projects/tfc/app/backend/src/models/LoginModel.ts","sources":["/home/igor/portfolio-projects/tfc/app/backend/src/models/LoginModel.ts"],"names":[],"mappings":";;AAEA,kDAA2C;AAE3C,MAAqB,UAAU;IAA/B;QACU,SAAI,GAAG,cAAI,CAAC;IAiBtB,CAAC;IAhBC,KAAK,CAAC,QAAQ,CAAC,KAAa;QAC1B,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;YAC9B,KAAK,EAAE,EAAE,KAAK,EAAE;YAChB,GAAG,EAAE,IAAI;SACV,CAAC,CAAU,CAAC;IACf,CAAC;IAED,KAAK,CAAC,QAAQ,CAAC,KAAa;QAC1B,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;YAC9B,KAAK,EAAE,EAAE,KAAK,EAAE;YAChB,UAAU,EAAE;gBACV,OAAO,EAAE,CAAC,IAAI,EAAE,UAAU,EAAE,OAAO,EAAE,UAAU,CAAC;aACjD;YACD,GAAG,EAAE,IAAI;SACV,CAAC,CAAU,CAAC;IACf,CAAC;CACF;AAlBD,6BAkBC","sourcesContent":["import { ILoginModel } from '../interfaces/IModels';\nimport { IRole, IUser } from '../interfaces/IUser';\nimport User from '../database/models/user';\n\nexport default class LoginModel implements ILoginModel {\n  private user = User;\n  async findUser(email: string): Promise<IUser | null> {\n    return (await this.user.findOne({\n      where: { email },\n      raw: true,\n    })) as IUser;\n  }\n\n  async findRole(email: string): Promise<IRole | null> {\n    return (await this.user.findOne({\n      where: { email },\n      attributes: {\n        exclude: ['id', 'username', 'email', 'password'],\n      },\n      raw: true,\n    })) as IRole;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"34b787209782151ce7bfb59b7e77aaf32945af18"},"/home/igor/portfolio-projects/tfc/app/backend/src/database/models/user.ts":{"path":"/home/igor/portfolio-projects/tfc/app/backend/src/database/models/user.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":11},"end":{"line":4,"column":23}},"3":{"start":{"line":7,"column":0},"end":{"line":36,"column":3}},"4":{"start":{"line":37,"column":0},"end":{"line":37,"column":23}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/igor/portfolio-projects/tfc/app/backend/src/database/models/user.ts","sources":["/home/igor/portfolio-projects/tfc/app/backend/src/database/models/user.ts"],"names":[],"mappings":";;AAAA,yCAA6C;AAC7C,wBAAmB;AAEnB,MAAM,IAAK,SAAQ,iBAAK;CAMvB;AAED,IAAI,CAAC,IAAI,CAAC;IACR,EAAE,EAAE;QACF,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,SAAS,EAAE,KAAK;QAChB,UAAU,EAAE,IAAI;QAChB,aAAa,EAAE,IAAI;KACpB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;KACjB;IACD,IAAI,EAAE;QACJ,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;KACjB;IACD,KAAK,EAAE;QACL,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;KACjB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;KACjB;CACF,EAAE;IACD,SAAS,EAAE,UAAE;IACb,SAAS,EAAE,MAAM;IACjB,SAAS,EAAE,OAAO;IAClB,WAAW,EAAE,KAAK;IAClB,UAAU,EAAE,KAAK;CAClB,CAAC,CAAC;AAEH,kBAAe,IAAI,CAAC","sourcesContent":["import { Model, DataTypes } from 'sequelize';\nimport db from '.';\n\nclass User extends Model {\n  id!: number;\n  username!: string;\n  role!: string;\n  email!: string;\n  password!: string;\n}\n\nUser.init({\n  id: {\n    type: DataTypes.INTEGER,\n    allowNull: false,\n    primaryKey: true,\n    autoIncrement: true,\n  },\n  username: {\n    type: DataTypes.STRING,\n    allowNull: false,\n  },\n  role: {\n    type: DataTypes.STRING,\n    allowNull: false,\n  },\n  email: {\n    type: DataTypes.STRING,\n    allowNull: false,\n  },\n  password: {\n    type: DataTypes.STRING,\n    allowNull: false,\n  },\n}, {\n  sequelize: db,\n  modelName: 'User',\n  tableName: 'users',\n  underscored: false,\n  timestamps: false,\n});\n\nexport default User;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ca0773b9854eb663c05dd75dfa5156e95ee0bf79"},"/home/igor/portfolio-projects/tfc/app/backend/src/database/models/index.ts":{"path":"/home/igor/portfolio-projects/tfc/app/backend/src/database/models/index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":15},"end":{"line":4,"column":44}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":52}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/igor/portfolio-projects/tfc/app/backend/src/database/models/index.ts","sources":["/home/igor/portfolio-projects/tfc/app/backend/src/database/models/index.ts"],"names":[],"mappings":";;AAAA,yCAAsC;AACtC,6CAA6C;AAE7C,kBAAe,IAAI,qBAAS,CAAC,MAAM,CAAC,CAAC","sourcesContent":["import { Sequelize } from 'sequelize';\nimport * as config from '../config/database';\n\nexport default new Sequelize(config);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7d4a72b358887fdfeb6dcb4df5ef8cafbe13cc7e"},"/home/igor/portfolio-projects/tfc/app/backend/src/routes/TeamRouter.ts":{"path":"/home/igor/portfolio-projects/tfc/app/backend/src/routes/TeamRouter.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":25},"end":{"line":4,"column":65}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":46}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":26}},"5":{"start":{"line":11,"column":8},"end":{"line":11,"column":62}},"6":{"start":{"line":12,"column":8},"end":{"line":12,"column":66}},"7":{"start":{"line":15,"column":0},"end":{"line":15,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":18},"end":{"line":9,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":17},"end":{"line":13,"column":5}},"line":10}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/igor/portfolio-projects/tfc/app/backend/src/routes/TeamRouter.ts","sources":["/home/igor/portfolio-projects/tfc/app/backend/src/routes/TeamRouter.ts"],"names":[],"mappings":";;AAAA,qCAAiC;AACjC,kEAA2D;AAE3D,MAAqB,UAAU;IAG7B;QACE,IAAI,CAAC,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;QACvB,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAES,UAAU;QAClB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,wBAAc,CAAC,MAAM,CAAC,CAAC;QAC5C,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,wBAAc,CAAC,OAAO,CAAC,CAAC;IAClD,CAAC;CACF;AAZD,6BAYC","sourcesContent":["import { Router } from 'express';\nimport TeamController from '../controllers/TeamController';\n\nexport default class TeamRouter {\n  public router: Router;\n\n  constructor() {\n    this.router = Router();\n    this.teamRouter();\n  }\n\n  protected teamRouter(): void {\n    this.router.get('/', TeamController.getAll);\n    this.router.get('/:id', TeamController.getById);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fbe30fba3775525651a04562a0a98b64d779a6e5"},"/home/igor/portfolio-projects/tfc/app/backend/src/controllers/TeamController.ts":{"path":"/home/igor/portfolio-projects/tfc/app/backend/src/controllers/TeamController.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":22},"end":{"line":3,"column":56}},"2":{"start":{"line":4,"column":20},"end":{"line":4,"column":50}},"3":{"start":{"line":7,"column":8},"end":{"line":13,"column":9}},"4":{"start":{"line":8,"column":27},"end":{"line":8,"column":96}},"5":{"start":{"line":9,"column":12},"end":{"line":9,"column":48}},"6":{"start":{"line":12,"column":12},"end":{"line":12,"column":24}},"7":{"start":{"line":16,"column":8},"end":{"line":26,"column":9}},"8":{"start":{"line":17,"column":27},"end":{"line":17,"column":37}},"9":{"start":{"line":18,"column":27},"end":{"line":18,"column":105}},"10":{"start":{"line":19,"column":12},"end":{"line":21,"column":13}},"11":{"start":{"line":20,"column":16},"end":{"line":20,"column":52}},"12":{"start":{"line":22,"column":12},"end":{"line":22,"column":71}},"13":{"start":{"line":25,"column":12},"end":{"line":25,"column":24}},"14":{"start":{"line":29,"column":0},"end":{"line":29,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":41},"end":{"line":14,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":41},"end":{"line":27,"column":5}},"line":15}},"branchMap":{"0":{"loc":{"start":{"line":19,"column":12},"end":{"line":21,"column":13}},"type":"if","locations":[{"start":{"line":19,"column":12},"end":{"line":21,"column":13}},{"start":{"line":19,"column":12},"end":{"line":21,"column":13}}],"line":19}},"s":{"0":1,"1":1,"2":1,"3":2,"4":2,"5":1,"6":1,"7":3,"8":3,"9":3,"10":2,"11":1,"12":1,"13":1,"14":1},"f":{"0":2,"1":3},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"/home/igor/portfolio-projects/tfc/app/backend/src/controllers/TeamController.ts","sources":["/home/igor/portfolio-projects/tfc/app/backend/src/controllers/TeamController.ts"],"names":[],"mappings":";;AACA,yDAAkD;AAClD,mDAA4C;AAE5C,MAA8B,cAAc;IAC1C,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,IAAa,EAAE,GAAa,EAAE,IAAkB;QAClE,IAAI;YACF,MAAM,MAAM,GAAG,MAAM,IAAI,qBAAW,CAAC,IAAI,mBAAS,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC;YACjE,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SACrC;QAAC,OAAO,KAAK,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,CAAC;SACb;IACH,CAAC;IAED,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;QAClE,IAAI;YACF,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;YAC1B,MAAM,MAAM,GAAG,MAAM,IAAI,qBAAW,CAAC,IAAI,mBAAS,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;YAC1E,IAAI,MAAM,EAAE;gBACV,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aACrC;YACD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,gBAAgB,EAAE,CAAC,CAAC;SAC5D;QAAC,OAAO,KAAK,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,CAAC;SACb;IACH,CAAC;CACF;AAtBD,iCAsBC","sourcesContent":["import { Request, Response, NextFunction } from 'express';\nimport TeamService from '../services/TeamService';\nimport TeamModel from '../models/TeamModel';\n\nexport default abstract class TeamController {\n  static async getAll(_req: Request, res: Response, next: NextFunction) {\n    try {\n      const result = await new TeamService(new TeamModel()).getTeams();\n      return res.status(200).json(result);\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  static async getById(req: Request, res: Response, next: NextFunction) {\n    try {\n      const { id } = req.params;\n      const result = await new TeamService(new TeamModel()).getTeam(Number(id));\n      if (result) {\n        return res.status(200).json(result);\n      }\n      return res.status(400).json({ mesdage: 'Team Not Found' });\n    } catch (error) {\n      next(error);\n    }\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7a1788d124f54408818625c1a682c0d0d16e3b33"},"/home/igor/portfolio-projects/tfc/app/backend/src/services/TeamService.ts":{"path":"/home/igor/portfolio-projects/tfc/app/backend/src/services/TeamService.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":35}},"2":{"start":{"line":8,"column":23},"end":{"line":8,"column":53}},"3":{"start":{"line":9,"column":8},"end":{"line":9,"column":22}},"4":{"start":{"line":12,"column":23},"end":{"line":12,"column":56}},"5":{"start":{"line":13,"column":8},"end":{"line":15,"column":9}},"6":{"start":{"line":14,"column":12},"end":{"line":14,"column":24}},"7":{"start":{"line":16,"column":8},"end":{"line":16,"column":22}},"8":{"start":{"line":19,"column":0},"end":{"line":19,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":27},"end":{"line":6,"column":5}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":21},"end":{"line":10,"column":5}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":22},"end":{"line":17,"column":5}},"line":11}},"branchMap":{"0":{"loc":{"start":{"line":13,"column":8},"end":{"line":15,"column":9}},"type":"if","locations":[{"start":{"line":13,"column":8},"end":{"line":15,"column":9}},{"start":{"line":13,"column":8},"end":{"line":15,"column":9}}],"line":13}},"s":{"0":1,"1":5,"2":2,"3":1,"4":3,"5":2,"6":1,"7":1,"8":1},"f":{"0":5,"1":2,"2":3},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"/home/igor/portfolio-projects/tfc/app/backend/src/services/TeamService.ts","sources":["/home/igor/portfolio-projects/tfc/app/backend/src/services/TeamService.ts"],"names":[],"mappings":";;AAIA,MAAqB,WAAW;IAC9B,YACU,SAAqB;QAArB,cAAS,GAAT,SAAS,CAAY;IAC3B,CAAC;IAEL,KAAK,CAAC,QAAQ;QACZ,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;QAC9C,OAAO,MAAM,CAAC;IAChB,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,EAAU;QACtB,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QACjD,IAAI,CAAC,MAAM,EAAE;YACX,OAAO,IAAI,CAAC;SACb;QACD,OAAO,MAAM,CAAC;IAChB,CAAC;CACF;AAjBD,8BAiBC","sourcesContent":["import { ITeamService } from '../interfaces/IServices';\nimport { ITeamModel } from '../interfaces/IModels';\nimport ITeam from '../interfaces/ITeam';\n\nexport default class TeamService implements ITeamService {\n  constructor(\n    private teamModel: ITeamModel,\n  ) { }\n\n  async getTeams(): Promise<ITeam[]> {\n    const result = await this.teamModel.findAll();\n    return result;\n  }\n\n  async getTeam(id: number): Promise<ITeam | null> {\n    const result = await this.teamModel.findById(id);\n    if (!result) {\n      return null;\n    }\n    return result;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ff93d40a61e3482e976ffdfa0de2c7abf95caa7a"},"/home/igor/portfolio-projects/tfc/app/backend/src/models/TeamModel.ts":{"path":"/home/igor/portfolio-projects/tfc/app/backend/src/models/TeamModel.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":15},"end":{"line":3,"column":49}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":35}},"3":{"start":{"line":9,"column":8},"end":{"line":9,"column":56}},"4":{"start":{"line":12,"column":8},"end":{"line":12,"column":53}},"5":{"start":{"line":15,"column":0},"end":{"line":15,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":18},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":20},"end":{"line":10,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":23},"end":{"line":13,"column":5}},"line":11}},"branchMap":{},"s":{"0":1,"1":1,"2":15,"3":8,"4":7,"5":1},"f":{"0":15,"1":8,"2":7},"b":{},"inputSourceMap":{"version":3,"file":"/home/igor/portfolio-projects/tfc/app/backend/src/models/TeamModel.ts","sources":["/home/igor/portfolio-projects/tfc/app/backend/src/models/TeamModel.ts"],"names":[],"mappings":";;AAEA,kDAA2C;AAE3C,MAAqB,SAAS;IAA9B;QACU,SAAI,GAAG,cAAI,CAAC;IAQtB,CAAC;IAPC,KAAK,CAAC,OAAO;QACX,OAAO,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,CAAY,CAAC;IAC7D,CAAC;IAED,KAAK,CAAC,QAAQ,CAAC,EAAU;QACvB,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC;IAC/C,CAAC;CACF;AATD,4BASC","sourcesContent":["import { ITeamModel } from '../interfaces/IModels';\nimport ITeam from '../interfaces/ITeam';\nimport Team from '../database/models/team';\n\nexport default class TeamModel implements ITeamModel {\n  private team = Team;\n  async findAll(): Promise<ITeam[]> {\n    return (await this.team.findAll({ raw: true })) as ITeam[];\n  }\n\n  async findById(id: number): Promise<ITeam | null> {\n    return this.team.findByPk(id, { raw: true });\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"70ca88c277cde7107e96df0b40bbbd29077bef13"},"/home/igor/portfolio-projects/tfc/app/backend/src/database/models/team.ts":{"path":"/home/igor/portfolio-projects/tfc/app/backend/src/database/models/team.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":11},"end":{"line":4,"column":23}},"3":{"start":{"line":7,"column":0},"end":{"line":25,"column":3}},"4":{"start":{"line":26,"column":0},"end":{"line":26,"column":23}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/igor/portfolio-projects/tfc/app/backend/src/database/models/team.ts","sources":["/home/igor/portfolio-projects/tfc/app/backend/src/database/models/team.ts"],"names":[],"mappings":";;AAAA,yCAA6C;AAC7C,wBAAmB;AAEnB,MAAM,IAAK,SAAQ,iBAAK;CAGvB;AAED,IAAI,CAAC,IAAI,CAAC;IACR,EAAE,EAAE;QACF,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,SAAS,EAAE,KAAK;QAChB,UAAU,EAAE,IAAI;QAChB,aAAa,EAAE,IAAI;KACpB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;QAChB,KAAK,EAAE,WAAW;KACnB;CACF,EAAE;IACD,SAAS,EAAE,UAAE;IACb,SAAS,EAAE,MAAM;IACjB,SAAS,EAAE,OAAO;IAClB,WAAW,EAAE,IAAI;IACjB,UAAU,EAAE,KAAK;CAClB,CAAC,CAAC;AAEH,kBAAe,IAAI,CAAC","sourcesContent":["import { DataTypes, Model } from 'sequelize';\nimport db from '.';\n\nclass Team extends Model {\n  id!: number;\n  teamName!: string;\n}\n\nTeam.init({\n  id: {\n    type: DataTypes.INTEGER,\n    allowNull: false,\n    primaryKey: true,\n    autoIncrement: true,\n  },\n  teamName: {\n    type: DataTypes.STRING,\n    allowNull: false,\n    field: 'team_name',\n  },\n}, {\n  sequelize: db,\n  modelName: 'Team',\n  tableName: 'teams',\n  underscored: true,\n  timestamps: false,\n});\n\nexport default Team;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1fdba80ea1c0049a0e2ec68c295406ee86b70053"},"/home/igor/portfolio-projects/tfc/app/backend/src/routes/MatchesRouter.ts":{"path":"/home/igor/portfolio-projects/tfc/app/backend/src/routes/MatchesRouter.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":26},"end":{"line":4,"column":67}},"3":{"start":{"line":5,"column":28},"end":{"line":5,"column":71}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":46}},"5":{"start":{"line":9,"column":8},"end":{"line":9,"column":29}},"6":{"start":{"line":12,"column":8},"end":{"line":12,"column":83}},"7":{"start":{"line":13,"column":8},"end":{"line":13,"column":75}},"8":{"start":{"line":14,"column":8},"end":{"line":14,"column":65}},"9":{"start":{"line":15,"column":8},"end":{"line":15,"column":103}},"10":{"start":{"line":18,"column":0},"end":{"line":18,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":18},"end":{"line":10,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":20},"end":{"line":16,"column":5}},"line":11}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/igor/portfolio-projects/tfc/app/backend/src/routes/MatchesRouter.ts","sources":["/home/igor/portfolio-projects/tfc/app/backend/src/routes/MatchesRouter.ts"],"names":[],"mappings":";;AAAA,qCAAiC;AACjC,oEAA6D;AAC7D,wEAAiE;AAEjE,MAAqB,aAAa;IAGhC;QACE,IAAI,CAAC,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;QACvB,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAES,aAAa;QACrB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,aAAa,EAAE,2BAAiB,CAAC,YAAY,CAAC,CAAC;QACjE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,2BAAiB,CAAC,WAAW,CAAC,CAAC;QACzD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,2BAAiB,CAAC,MAAM,CAAC,CAAC;QAC/C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,yBAAe,CAAC,IAAI,EAAE,2BAAiB,CAAC,WAAW,CAAC,CAAC;IAC7E,CAAC;CACF;AAdD,gCAcC","sourcesContent":["import { Router } from 'express';\nimport TokenMiddleware from '../middlewares/TokenMiddleware';\nimport MatchesController from '../controllers/MatchesController';\n\nexport default class MatchesRouter {\n  public router: Router;\n\n  constructor() {\n    this.router = Router();\n    this.matchesRouter();\n  }\n\n  protected matchesRouter(): void {\n    this.router.patch('/:id/finish', MatchesController.updateStatus);\n    this.router.patch('/:id', MatchesController.updateScore);\n    this.router.get('/', MatchesController.getAll);\n    this.router.post('/', TokenMiddleware.auth, MatchesController.createMatch);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"83bbcb5416a6710414b6a3dcba6d6a44ccd0e3a7"},"/home/igor/portfolio-projects/tfc/app/backend/src/middlewares/TokenMiddleware.ts":{"path":"/home/igor/portfolio-projects/tfc/app/backend/src/middlewares/TokenMiddleware.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":21},"end":{"line":3,"column":52}},"2":{"start":{"line":4,"column":23},"end":{"line":4,"column":58}},"3":{"start":{"line":7,"column":8},"end":{"line":17,"column":9}},"4":{"start":{"line":8,"column":38},"end":{"line":8,"column":49}},"5":{"start":{"line":9,"column":12},"end":{"line":11,"column":13}},"6":{"start":{"line":10,"column":16},"end":{"line":10,"column":76}},"7":{"start":{"line":12,"column":12},"end":{"line":12,"column":96}},"8":{"start":{"line":13,"column":12},"end":{"line":13,"column":19}},"9":{"start":{"line":16,"column":12},"end":{"line":16,"column":24}},"10":{"start":{"line":20,"column":0},"end":{"line":20,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":38},"end":{"line":18,"column":5}},"line":6}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":12},"end":{"line":11,"column":13}},"type":"if","locations":[{"start":{"line":9,"column":12},"end":{"line":11,"column":13}},{"start":{"line":9,"column":12},"end":{"line":11,"column":13}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":6,"4":6,"5":6,"6":1,"7":5,"8":4,"9":1,"10":1},"f":{"0":6},"b":{"0":[1,5]},"inputSourceMap":{"version":3,"file":"/home/igor/portfolio-projects/tfc/app/backend/src/middlewares/TokenMiddleware.ts","sources":["/home/igor/portfolio-projects/tfc/app/backend/src/middlewares/TokenMiddleware.ts"],"names":[],"mappings":";;AACA,qDAA8C;AAC9C,2DAAoD;AAEpD,MAA8B,eAAe;IAC3C,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;QAC/D,IAAI;YACF,MAAM,EAAE,aAAa,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC;YACtC,IAAI,CAAC,aAAa,EAAE;gBAClB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,iBAAiB,EAAE,CAAC,CAAC;aAC7D;YACD,MAAM,IAAI,sBAAY,CAAC,IAAI,oBAAU,EAAE,CAAC,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;YAChE,IAAI,EAAE,CAAC;SACR;QAAC,OAAO,KAAK,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,CAAC;SACb;IACH,CAAC;CACF;AAbD,kCAaC","sourcesContent":["import { Request, Response, NextFunction } from 'express';\nimport LoginModel from '../models/LoginModel';\nimport LoginService from '../services/LoginService';\n\nexport default abstract class TokenMiddleware {\n  static async auth(req: Request, res: Response, next: NextFunction) {\n    try {\n      const { authorization } = req.headers;\n      if (!authorization) {\n        return res.status(401).json({ message: 'Token not Found' });\n      }\n      await new LoginService(new LoginModel()).getRole(authorization);\n      next();\n    } catch (error) {\n      next(error);\n    }\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c4ef0944f305fdce3404d5467aa92fb53129d72a"},"/home/igor/portfolio-projects/tfc/app/backend/src/controllers/MatchesController.ts":{"path":"/home/igor/portfolio-projects/tfc/app/backend/src/controllers/MatchesController.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":23},"end":{"line":3,"column":59}},"2":{"start":{"line":4,"column":21},"end":{"line":4,"column":52}},"3":{"start":{"line":7,"column":8},"end":{"line":22,"column":9}},"4":{"start":{"line":8,"column":27},"end":{"line":8,"column":37}},"5":{"start":{"line":9,"column":53},"end":{"line":9,"column":61}},"6":{"start":{"line":10,"column":12},"end":{"line":12,"column":13}},"7":{"start":{"line":11,"column":16},"end":{"line":11,"column":74}},"8":{"start":{"line":13,"column":27},"end":{"line":14,"column":62}},"9":{"start":{"line":15,"column":12},"end":{"line":17,"column":13}},"10":{"start":{"line":16,"column":16},"end":{"line":16,"column":74}},"11":{"start":{"line":18,"column":12},"end":{"line":18,"column":72}},"12":{"start":{"line":21,"column":12},"end":{"line":21,"column":24}},"13":{"start":{"line":25,"column":8},"end":{"line":36,"column":9}},"14":{"start":{"line":26,"column":27},"end":{"line":26,"column":37}},"15":{"start":{"line":27,"column":27},"end":{"line":28,"column":33}},"16":{"start":{"line":29,"column":12},"end":{"line":31,"column":13}},"17":{"start":{"line":30,"column":16},"end":{"line":30,"column":69}},"18":{"start":{"line":32,"column":12},"end":{"line":32,"column":72}},"19":{"start":{"line":35,"column":12},"end":{"line":35,"column":24}},"20":{"start":{"line":39,"column":8},"end":{"line":56,"column":9}},"21":{"start":{"line":40,"column":35},"end":{"line":40,"column":44}},"22":{"start":{"line":41,"column":12},"end":{"line":50,"column":13}},"23":{"start":{"line":42,"column":16},"end":{"line":46,"column":17}},"24":{"start":{"line":43,"column":35},"end":{"line":44,"column":42}},"25":{"start":{"line":45,"column":20},"end":{"line":45,"column":56}},"26":{"start":{"line":47,"column":31},"end":{"line":48,"column":39}},"27":{"start":{"line":49,"column":16},"end":{"line":49,"column":52}},"28":{"start":{"line":51,"column":27},"end":{"line":51,"column":100}},"29":{"start":{"line":52,"column":12},"end":{"line":52,"column":48}},"30":{"start":{"line":55,"column":12},"end":{"line":55,"column":24}},"31":{"start":{"line":59,"column":8},"end":{"line":69,"column":9}},"32":{"start":{"line":60,"column":30},"end":{"line":60,"column":38}},"33":{"start":{"line":61,"column":12},"end":{"line":63,"column":13}},"34":{"start":{"line":62,"column":16},"end":{"line":62,"column":75}},"35":{"start":{"line":64,"column":27},"end":{"line":64,"column":110}},"36":{"start":{"line":65,"column":12},"end":{"line":65,"column":48}},"37":{"start":{"line":68,"column":12},"end":{"line":68,"column":24}},"38":{"start":{"line":72,"column":0},"end":{"line":72,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":45},"end":{"line":23,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":46},"end":{"line":37,"column":5}},"line":24},"2":{"name":"(anonymous_2)","decl":{"start":{"line":38,"column":4},"end":{"line":38,"column":5}},"loc":{"start":{"line":38,"column":40},"end":{"line":57,"column":5}},"line":38},"3":{"name":"(anonymous_3)","decl":{"start":{"line":58,"column":4},"end":{"line":58,"column":5}},"loc":{"start":{"line":58,"column":45},"end":{"line":70,"column":5}},"line":58}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":12},"end":{"line":12,"column":13}},"type":"if","locations":[{"start":{"line":10,"column":12},"end":{"line":12,"column":13}},{"start":{"line":10,"column":12},"end":{"line":12,"column":13}}],"line":10},"1":{"loc":{"start":{"line":10,"column":16},"end":{"line":10,"column":48}},"type":"binary-expr","locations":[{"start":{"line":10,"column":16},"end":{"line":10,"column":30}},{"start":{"line":10,"column":34},"end":{"line":10,"column":48}}],"line":10},"2":{"loc":{"start":{"line":15,"column":12},"end":{"line":17,"column":13}},"type":"if","locations":[{"start":{"line":15,"column":12},"end":{"line":17,"column":13}},{"start":{"line":15,"column":12},"end":{"line":17,"column":13}}],"line":15},"3":{"loc":{"start":{"line":29,"column":12},"end":{"line":31,"column":13}},"type":"if","locations":[{"start":{"line":29,"column":12},"end":{"line":31,"column":13}},{"start":{"line":29,"column":12},"end":{"line":31,"column":13}}],"line":29},"4":{"loc":{"start":{"line":41,"column":12},"end":{"line":50,"column":13}},"type":"if","locations":[{"start":{"line":41,"column":12},"end":{"line":50,"column":13}},{"start":{"line":41,"column":12},"end":{"line":50,"column":13}}],"line":41},"5":{"loc":{"start":{"line":42,"column":16},"end":{"line":46,"column":17}},"type":"if","locations":[{"start":{"line":42,"column":16},"end":{"line":46,"column":17}},{"start":{"line":42,"column":16},"end":{"line":46,"column":17}}],"line":42},"6":{"loc":{"start":{"line":61,"column":12},"end":{"line":63,"column":13}},"type":"if","locations":[{"start":{"line":61,"column":12},"end":{"line":63,"column":13}},{"start":{"line":61,"column":12},"end":{"line":63,"column":13}}],"line":61},"7":{"loc":{"start":{"line":61,"column":16},"end":{"line":61,"column":58}},"type":"binary-expr","locations":[{"start":{"line":61,"column":16},"end":{"line":61,"column":35}},{"start":{"line":61,"column":39},"end":{"line":61,"column":58}}],"line":61}},"s":{"0":1,"1":1,"2":1,"3":4,"4":4,"5":4,"6":4,"7":1,"8":3,"9":2,"10":1,"11":1,"12":1,"13":3,"14":3,"15":3,"16":2,"17":1,"18":1,"19":1,"20":4,"21":4,"22":4,"23":2,"24":1,"25":1,"26":1,"27":1,"28":2,"29":1,"30":1,"31":4,"32":4,"33":4,"34":1,"35":3,"36":1,"37":2,"38":1},"f":{"0":4,"1":3,"2":4,"3":4},"b":{"0":[1,3],"1":[4,3],"2":[1,1],"3":[1,1],"4":[2,2],"5":[1,1],"6":[1,3],"7":[4,3]},"inputSourceMap":{"version":3,"file":"/home/igor/portfolio-projects/tfc/app/backend/src/controllers/MatchesController.ts","sources":["/home/igor/portfolio-projects/tfc/app/backend/src/controllers/MatchesController.ts"],"names":[],"mappings":";;AACA,4DAAqD;AACrD,qDAA8C;AAE9C,MAA8B,iBAAiB;IAC7C,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;QACtE,IAAI;YACF,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;YAC1B,MAAM,EAAE,aAAa,EAAE,aAAa,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;YAClD,IAAI,CAAC,aAAa,IAAI,CAAC,aAAa,EAAE;gBACpC,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,eAAe,EAAE,CAAC,CAAC;aAC3D;YACD,MAAM,MAAM,GAAG,MAAM,IAAI,sBAAY,CAAC,IAAI,oBAAU,EAAE,CAAC;iBACpD,WAAW,CAAC,EAAE,EAAE,aAAa,EAAE,aAAa,CAAC,CAAC;YACjD,IAAI,MAAM,EAAE;gBACV,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,eAAe,EAAE,CAAC,CAAC;aAC3D;YACD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,iBAAiB,EAAE,CAAC,CAAC;SAC7D;QAAC,OAAO,KAAK,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,CAAC;SACb;IACH,CAAC;IAED,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;QACvE,IAAI;YACF,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;YAC1B,MAAM,MAAM,GAAG,MAAM,IAAI,sBAAY,CAAC,IAAI,oBAAU,EAAE,CAAC;iBACpD,YAAY,CAAC,EAAE,CAAC,CAAC;YACpB,IAAI,MAAM,EAAE;gBACV,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC,CAAC;aACtD;YACD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,iBAAiB,EAAE,CAAC,CAAC;SAC7D;QAAC,OAAO,KAAK,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,CAAC;SACb;IACH,CAAC;IAED,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;QACjE,IAAI;YACF,MAAM,EAAE,UAAU,EAAE,GAAG,GAAG,CAAC,KAAK,CAAC;YACjC,IAAI,UAAU,EAAE;gBACd,IAAI,UAAU,KAAK,MAAM,EAAE;oBACzB,MAAM,MAAM,GAAG,MAAM,IAAI,sBAAY,CAAC,IAAI,oBAAU,EAAE,CAAC;yBACpD,WAAW,CAAC,IAAI,CAAC,CAAC;oBACrB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBACrC;gBACD,MAAM,MAAM,GAAG,MAAM,IAAI,sBAAY,CAAC,IAAI,oBAAU,EAAE,CAAC;qBACpD,WAAW,CAAC,KAAK,CAAC,CAAC;gBACtB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aACrC;YACD,MAAM,MAAM,GAAG,MAAM,IAAI,sBAAY,CAAC,IAAI,oBAAU,EAAE,CAAC,CAAC,UAAU,EAAE,CAAC;YACrE,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SACrC;QAAC,OAAO,KAAK,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,CAAC;SACb;IACH,CAAC;IAED,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;QACtE,IAAI;YACF,MAAM,SAAS,GAAG,GAAG,CAAC,IAAI,CAAC;YAC3B,IAAI,CAAC,SAAS,CAAC,QAAQ,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE;gBAC9C,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,gBAAgB,EAAE,CAAC,CAAC;aAC5D;YACD,MAAM,MAAM,GAAG,MAAM,IAAI,sBAAY,CAAC,IAAI,oBAAU,EAAE,CAAC,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YAC/E,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SACrC;QAAC,OAAO,KAAK,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,CAAC;SACb;IACH,CAAC;CACF;AAjED,oCAiEC","sourcesContent":["import { Request, Response, NextFunction } from 'express';\nimport MatchService from '../services/MatchService ';\nimport MatchModel from '../models/MatchModel';\n\nexport default abstract class MatchesController {\n  static async updateScore(req: Request, res: Response, next: NextFunction) {\n    try {\n      const { id } = req.params;\n      const { homeTeamGoals, awayTeamGoals } = req.body;\n      if (!homeTeamGoals || !awayTeamGoals) {\n        return res.status(400).json({ message: 'Invalid Field' });\n      }\n      const result = await new MatchService(new MatchModel())\n        .updateScore(id, homeTeamGoals, awayTeamGoals);\n      if (result) {\n        return res.status(200).json({ message: 'Score Updated' });\n      }\n      return res.status(400).json({ message: 'Match not Found' });\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  static async updateStatus(req: Request, res: Response, next: NextFunction) {\n    try {\n      const { id } = req.params;\n      const result = await new MatchService(new MatchModel())\n        .updateStatus(id);\n      if (result) {\n        return res.status(200).json({ message: 'Finished' });\n      }\n      return res.status(400).json({ message: 'Match not found' });\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  static async getAll(req: Request, res: Response, next: NextFunction) {\n    try {\n      const { inProgress } = req.query;\n      if (inProgress) {\n        if (inProgress === 'true') {\n          const result = await new MatchService(new MatchModel())\n            .getByStatus(true);\n          return res.status(200).json(result);\n        }\n        const result = await new MatchService(new MatchModel())\n          .getByStatus(false);\n        return res.status(200).json(result);\n      }\n      const result = await new MatchService(new MatchModel()).getMatches();\n      return res.status(200).json(result);\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  static async createMatch(req: Request, res: Response, next: NextFunction) {\n    try {\n      const matchInfo = req.body;\n      if (!matchInfo.awayTeam || !matchInfo.homeTeam) {\n        return res.status(400).json({ message: 'Invalid Fields' });\n      }\n      const result = await new MatchService(new MatchModel()).createMatch(matchInfo);\n      return res.status(201).json(result);\n    } catch (error) {\n      next(error);\n    }\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a88f2bf5f38c56f71c2fea72cdc148a64ed9ad5a"},"/home/igor/portfolio-projects/tfc/app/backend/src/services/MatchService .ts":{"path":"/home/igor/portfolio-projects/tfc/app/backend/src/services/MatchService .ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":14},"end":{"line":3,"column":43}},"2":{"start":{"line":4,"column":20},"end":{"line":4,"column":50}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":37}},"4":{"start":{"line":10,"column":23},"end":{"line":10,"column":64}},"5":{"start":{"line":11,"column":8},"end":{"line":11,"column":22}},"6":{"start":{"line":14,"column":8},"end":{"line":17,"column":9}},"7":{"start":{"line":15,"column":12},"end":{"line":15,"column":51}},"8":{"start":{"line":16,"column":12},"end":{"line":16,"column":24}},"9":{"start":{"line":18,"column":8},"end":{"line":18,"column":21}},"10":{"start":{"line":21,"column":23},"end":{"line":21,"column":57}},"11":{"start":{"line":22,"column":8},"end":{"line":22,"column":22}},"12":{"start":{"line":25,"column":8},"end":{"line":27,"column":9}},"13":{"start":{"line":26,"column":12},"end":{"line":26,"column":102}},"14":{"start":{"line":28,"column":21},"end":{"line":28,"column":81}},"15":{"start":{"line":29,"column":21},"end":{"line":29,"column":81}},"16":{"start":{"line":30,"column":8},"end":{"line":32,"column":9}},"17":{"start":{"line":31,"column":12},"end":{"line":31,"column":75}},"18":{"start":{"line":33,"column":23},"end":{"line":33,"column":67}},"19":{"start":{"line":34,"column":8},"end":{"line":34,"column":22}},"20":{"start":{"line":37,"column":23},"end":{"line":37,"column":82}},"21":{"start":{"line":38,"column":8},"end":{"line":38,"column":22}},"22":{"start":{"line":41,"column":0},"end":{"line":41,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":28},"end":{"line":8,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":30},"end":{"line":12,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":27},"end":{"line":19,"column":5}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":23},"end":{"line":23,"column":5}},"line":20},"4":{"name":"(anonymous_4)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":33},"end":{"line":35,"column":5}},"line":24},"5":{"name":"(anonymous_5)","decl":{"start":{"line":36,"column":4},"end":{"line":36,"column":5}},"loc":{"start":{"line":36,"column":48},"end":{"line":39,"column":5}},"line":36}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":8},"end":{"line":17,"column":9}},"type":"if","locations":[{"start":{"line":14,"column":8},"end":{"line":17,"column":9}},{"start":{"line":14,"column":8},"end":{"line":17,"column":9}}],"line":14},"1":{"loc":{"start":{"line":25,"column":8},"end":{"line":27,"column":9}},"type":"if","locations":[{"start":{"line":25,"column":8},"end":{"line":27,"column":9}},{"start":{"line":25,"column":8},"end":{"line":27,"column":9}}],"line":25},"2":{"loc":{"start":{"line":30,"column":8},"end":{"line":32,"column":9}},"type":"if","locations":[{"start":{"line":30,"column":8},"end":{"line":32,"column":9}},{"start":{"line":30,"column":8},"end":{"line":32,"column":9}}],"line":30},"3":{"loc":{"start":{"line":30,"column":12},"end":{"line":30,"column":26}},"type":"binary-expr","locations":[{"start":{"line":30,"column":12},"end":{"line":30,"column":17}},{"start":{"line":30,"column":21},"end":{"line":30,"column":26}}],"line":30}},"s":{"0":1,"1":1,"2":1,"3":13,"4":2,"5":2,"6":3,"7":1,"8":1,"9":1,"10":2,"11":1,"12":3,"13":1,"14":2,"15":2,"16":2,"17":1,"18":1,"19":1,"20":3,"21":2,"22":1},"f":{"0":13,"1":2,"2":3,"3":2,"4":3,"5":3},"b":{"0":[1,1],"1":[1,2],"2":[1,1],"3":[2,1]},"inputSourceMap":{"version":3,"file":"/home/igor/portfolio-projects/tfc/app/backend/src/services/MatchService .ts","sources":["/home/igor/portfolio-projects/tfc/app/backend/src/services/MatchService .ts"],"names":[],"mappings":";;AAAA,4CAAqC;AAIrC,mDAA4C;AAE5C,MAAqB,YAAY;IAC/B,YACU,UAAuB;QAAvB,eAAU,GAAV,UAAU,CAAa;IAC7B,CAAC;IAEL,KAAK,CAAC,WAAW,CAAC,MAAe;QAC/B,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QACzD,OAAO,MAAM,CAAC;IAChB,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,EAAmB;QACpC,IAAI,MAAM,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE;YACrC,MAAM,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;YACvC,OAAO,IAAI,CAAC;SACb;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IAED,KAAK,CAAC,UAAU;QACd,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,CAAC;QAClD,OAAO,MAAM,CAAC;IAChB,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,SAAqB;QACrC,IAAI,SAAS,CAAC,QAAQ,KAAK,SAAS,CAAC,QAAQ,EAAE;YAC7C,MAAM,IAAI,aAAG,CAAC,GAAG,EAAE,2DAA2D,CAAC,CAAC;SACjF;QACD,MAAM,IAAI,GAAG,MAAM,IAAI,mBAAS,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;QAChE,MAAM,IAAI,GAAG,MAAM,IAAI,mBAAS,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;QAChE,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,EAAE;YAClB,MAAM,IAAI,aAAG,CAAC,GAAG,EAAE,gCAAgC,CAAC,CAAC;SACtD;QACD,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;QAC5D,OAAO,MAAM,CAAC;IAChB,CAAC;IAED,KAAK,CAAC,WAAW,CACf,EAAmB,EACnB,SAA0B,EAC1B,SAA0B;QAE1B,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,EAAE,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;QAC3E,OAAO,MAAM,CAAC;IAChB,CAAC;CACF;AA5CD,+BA4CC","sourcesContent":["import Err from '../middlewares/Err';\nimport { IMatchService } from '../interfaces/IServices';\nimport { IMatchModel } from '../interfaces/IModels';\nimport { IMatch, IMatchComplete, IMatchInfo } from '../interfaces/IMatch';\nimport TeamModel from '../models/TeamModel';\n\nexport default class MatchService implements IMatchService {\n  constructor(\n    private matchModel: IMatchModel,\n  ) { }\n\n  async getByStatus(status: boolean): Promise<IMatchComplete[]> {\n    const result = await this.matchModel.getByStatus(status);\n    return result;\n  }\n\n  async updateStatus(id: number | string): Promise<boolean> {\n    if (await this.matchModel.getById(id)) {\n      await this.matchModel.updateStatus(id);\n      return true;\n    }\n    return false;\n  }\n\n  async getMatches(): Promise<IMatchComplete[]> {\n    const result = await this.matchModel.getMatches();\n    return result;\n  }\n\n  async createMatch(matchInfo: IMatchInfo): Promise<IMatch> {\n    if (matchInfo.awayTeam === matchInfo.homeTeam) {\n      throw new Err(401, 'It is not possible to create a match with two equal teams');\n    }\n    const home = await new TeamModel().findById(matchInfo.homeTeam);\n    const away = await new TeamModel().findById(matchInfo.awayTeam);\n    if (!home || !away) {\n      throw new Err(404, 'There is no team with such id!');\n    }\n    const result = await this.matchModel.createMatch(matchInfo);\n    return result;\n  }\n\n  async updateScore(\n    id: number | string,\n    homeGoals: number | string,\n    awayGoals: number | string,\n  ): Promise<boolean> {\n    const result = await this.matchModel.updateScore(id, homeGoals, awayGoals);\n    return result;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7cd32f6a2950a4bf65b1c695cdf3751c2db6be05"},"/home/igor/portfolio-projects/tfc/app/backend/src/models/MatchModel.ts":{"path":"/home/igor/portfolio-projects/tfc/app/backend/src/models/MatchModel.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":16},"end":{"line":3,"column":51}},"2":{"start":{"line":4,"column":15},"end":{"line":4,"column":49}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":37}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":35}},"5":{"start":{"line":11,"column":8},"end":{"line":17,"column":12}},"6":{"start":{"line":20,"column":8},"end":{"line":20,"column":74}},"7":{"start":{"line":23,"column":8},"end":{"line":28,"column":11}},"8":{"start":{"line":31,"column":8},"end":{"line":31,"column":92}},"9":{"start":{"line":34,"column":8},"end":{"line":36,"column":9}},"10":{"start":{"line":35,"column":12},"end":{"line":35,"column":24}},"11":{"start":{"line":37,"column":8},"end":{"line":37,"column":21}},"12":{"start":{"line":40,"column":8},"end":{"line":46,"column":9}},"13":{"start":{"line":41,"column":12},"end":{"line":44,"column":34}},"14":{"start":{"line":45,"column":12},"end":{"line":45,"column":24}},"15":{"start":{"line":47,"column":8},"end":{"line":47,"column":21}},"16":{"start":{"line":50,"column":0},"end":{"line":50,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":18},"end":{"line":9,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":30},"end":{"line":18,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":27},"end":{"line":21,"column":5}},"line":19},"3":{"name":"(anonymous_3)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":23},"end":{"line":29,"column":5}},"line":22},"4":{"name":"(anonymous_4)","decl":{"start":{"line":30,"column":4},"end":{"line":30,"column":5}},"loc":{"start":{"line":30,"column":33},"end":{"line":32,"column":5}},"line":30},"5":{"name":"(anonymous_5)","decl":{"start":{"line":33,"column":4},"end":{"line":33,"column":5}},"loc":{"start":{"line":33,"column":22},"end":{"line":38,"column":5}},"line":33},"6":{"name":"(anonymous_6)","decl":{"start":{"line":39,"column":4},"end":{"line":39,"column":5}},"loc":{"start":{"line":39,"column":48},"end":{"line":48,"column":5}},"line":39}},"branchMap":{"0":{"loc":{"start":{"line":34,"column":8},"end":{"line":36,"column":9}},"type":"if","locations":[{"start":{"line":34,"column":8},"end":{"line":36,"column":9}},{"start":{"line":34,"column":8},"end":{"line":36,"column":9}}],"line":34},"1":{"loc":{"start":{"line":40,"column":8},"end":{"line":46,"column":9}},"type":"if","locations":[{"start":{"line":40,"column":8},"end":{"line":46,"column":9}},{"start":{"line":40,"column":8},"end":{"line":46,"column":9}}],"line":40}},"s":{"0":1,"1":1,"2":1,"3":19,"4":19,"5":2,"6":1,"7":8,"8":1,"9":6,"10":2,"11":2,"12":3,"13":1,"14":1,"15":1,"16":1},"f":{"0":19,"1":2,"2":1,"3":8,"4":1,"5":6,"6":3},"b":{"0":[2,2],"1":[1,1]},"inputSourceMap":{"version":3,"file":"/home/igor/portfolio-projects/tfc/app/backend/src/models/MatchModel.ts","sources":["/home/igor/portfolio-projects/tfc/app/backend/src/models/MatchModel.ts"],"names":[],"mappings":";;AACA,oDAA6C;AAE7C,kDAA2C;AAE3C,MAAqB,UAAU;IAA/B;QACU,UAAK,GAAG,eAAK,CAAC;QACd,SAAI,GAAG,cAAI,CAAC;IAmDtB,CAAC;IAjDC,KAAK,CAAC,WAAW,CAAC,MAAe;QAC/B,OAAO,CAAC,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,CAC9B;YACE,KAAK,EAAE,EAAE,UAAU,EAAE,MAAM,EAAE;YAC7B,OAAO,EAAE;gBACP,EAAE,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,UAAU,CAAC,EAAE;gBAC9D,EAAE,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,UAAU,CAAC,EAAE;aAC/D;SACF,CACF,CAA0B,CAAC;IAC9B,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,EAAmB;QACpC,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;IACpE,CAAC;IAED,KAAK,CAAC,UAAU;QACd,OAAQ,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE;gBACP,EAAE,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,UAAU,CAAC,EAAE;gBAC9D,EAAE,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,UAAU,CAAC,EAAE;aAC/D;SAAE,CAA2B,CAAC;IACnC,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,SAAqB;QACrC,OAAO,CAAC,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,GAAG,SAAS,EAAE,UAAU,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,CAAW,CAAC;IAChG,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,EAAmB;QAC/B,IAAI,MAAM,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE;YACjC,OAAO,IAAI,CAAC;SACb;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IAED,KAAK,CAAC,WAAW,CACf,EAAmB,EACnB,SAA0B,EAC1B,SAA0B;QAE1B,IAAI,MAAM,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE;YAC1B,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;gBACtB,aAAa,EAAE,SAAS;gBACxB,aAAa,EAAE,SAAS;aACzB,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;YACtB,OAAO,IAAI,CAAC;SACb;QACD,OAAO,KAAK,CAAC;IACf,CAAC;CACF;AArDD,6BAqDC","sourcesContent":["import { IMatchModel } from '../interfaces/IModels';\nimport Match from '../database/models/match';\nimport { IMatch, IMatchComplete, IMatchInfo } from '../interfaces/IMatch';\nimport Team from '../database/models/team';\n\nexport default class MatchModel implements IMatchModel {\n  private match = Match;\n  private team = Team;\n\n  async getByStatus(status: boolean): Promise<IMatchComplete[]> {\n    return (await this.match.findAll(\n      {\n        where: { inProgress: status },\n        include: [\n          { model: this.team, as: 'teamHome', attributes: ['teamName'] },\n          { model: this.team, as: 'teamAway', attributes: ['teamName'] },\n        ],\n      },\n    )) as IMatchComplete[] | [];\n  }\n\n  async updateStatus(id: number | string): Promise<void> {\n    await this.match.update({ inProgress: false }, { where: { id } });\n  }\n\n  async getMatches(): Promise<IMatchComplete[]> {\n    return (await this.match.findAll({\n      include: [\n        { model: this.team, as: 'teamHome', attributes: ['teamName'] },\n        { model: this.team, as: 'teamAway', attributes: ['teamName'] },\n      ] }) as IMatchComplete[] | []);\n  }\n\n  async createMatch(matchInfo: IMatchInfo): Promise<IMatch> {\n    return (await this.match.create({ ...matchInfo, inProgress: true }, { raw: true })) as IMatch;\n  }\n\n  async getById(id: number | string): Promise<boolean> {\n    if (await this.match.findByPk(id)) {\n      return true;\n    }\n    return false;\n  }\n\n  async updateScore(\n    id: string | number,\n    homeGoals: string | number,\n    awayGoals: string | number,\n  ): Promise<boolean> {\n    if (await this.getById(id)) {\n      await this.match.update({\n        homeTeamGoals: homeGoals,\n        awayTeamGoals: awayGoals,\n      }, { where: { id } });\n      return true;\n    }\n    return false;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e1d3a5068363a6e291b9cc3f28c02185ec8847e6"},"/home/igor/portfolio-projects/tfc/app/backend/src/database/models/match.ts":{"path":"/home/igor/portfolio-projects/tfc/app/backend/src/database/models/match.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":11},"end":{"line":4,"column":23}},"3":{"start":{"line":5,"column":15},"end":{"line":5,"column":32}},"4":{"start":{"line":8,"column":0},"end":{"line":46,"column":3}},"5":{"start":{"line":47,"column":0},"end":{"line":47,"column":74}},"6":{"start":{"line":48,"column":0},"end":{"line":48,"column":74}},"7":{"start":{"line":49,"column":0},"end":{"line":49,"column":76}},"8":{"start":{"line":50,"column":0},"end":{"line":50,"column":76}},"9":{"start":{"line":51,"column":0},"end":{"line":51,"column":24}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/igor/portfolio-projects/tfc/app/backend/src/database/models/match.ts","sources":["/home/igor/portfolio-projects/tfc/app/backend/src/database/models/match.ts"],"names":[],"mappings":";;AAAA,yCAA6C;AAC7C,wBAAmB;AACnB,iCAA0B;AAE1B,MAAM,KAAM,SAAQ,iBAAK;CAOxB;AAED,KAAK,CAAC,IAAI,CACR;IACE,EAAE,EAAE;QACF,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,SAAS,EAAE,KAAK;QAChB,UAAU,EAAE,IAAI;QAChB,aAAa,EAAE,IAAI;KACpB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;QAChB,KAAK,EAAE,WAAW;KACnB;IACD,aAAa,EAAE;QACb,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;QAChB,KAAK,EAAE,iBAAiB;KACzB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;QAChB,KAAK,EAAE,WAAW;KACnB;IACD,aAAa,EAAE;QACb,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;QAChB,KAAK,EAAE,iBAAiB;KACzB;IACD,UAAU,EAAE;QACV,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,SAAS,EAAE,KAAK;QAChB,KAAK,EAAE,aAAa;KACrB;CACF,EACD;IACE,SAAS,EAAE,UAAE;IACb,SAAS,EAAE,OAAO;IAClB,SAAS,EAAE,SAAS;IACpB,WAAW,EAAE,IAAI;IACjB,UAAU,EAAE,KAAK;CAAE,CACtB,CAAC;AAEF,cAAI,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,CAAC;AAChE,cAAI,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,CAAC;AAEhE,KAAK,CAAC,SAAS,CAAC,cAAI,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,CAAC;AAClE,KAAK,CAAC,SAAS,CAAC,cAAI,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,CAAC;AAElE,kBAAe,KAAK,CAAC","sourcesContent":["import { Model, DataTypes } from 'sequelize';\nimport db from '.';\nimport Team from './team';\n\nclass Match extends Model {\n  id!: number;\n  homeTeam!: number;\n  homeTeamGoals!: number;\n  awayTeam!: number;\n  awayTeamGoals!: number;\n  inProgress!: boolean;\n}\n\nMatch.init(\n  {\n    id: {\n      type: DataTypes.INTEGER,\n      allowNull: false,\n      primaryKey: true,\n      autoIncrement: true,\n    },\n    homeTeam: {\n      type: DataTypes.NUMBER,\n      allowNull: false,\n      field: 'home_team',\n    },\n    homeTeamGoals: {\n      type: DataTypes.NUMBER,\n      allowNull: false,\n      field: 'home_team_goals',\n    },\n    awayTeam: {\n      type: DataTypes.NUMBER,\n      allowNull: false,\n      field: 'away_team',\n    },\n    awayTeamGoals: {\n      type: DataTypes.NUMBER,\n      allowNull: false,\n      field: 'away_team_goals',\n    },\n    inProgress: {\n      type: DataTypes.BOOLEAN,\n      allowNull: false,\n      field: 'in_progress',\n    },\n  },\n  {\n    sequelize: db,\n    modelName: 'Match',\n    tableName: 'matches',\n    underscored: true,\n    timestamps: false },\n);\n\nTeam.hasMany(Match, { foreignKey: 'awayTeam', as: 'teamAway' });\nTeam.hasMany(Match, { foreignKey: 'homeTeam', as: 'teamHome' });\n\nMatch.belongsTo(Team, { foreignKey: 'homeTeam', as: 'teamHome' });\nMatch.belongsTo(Team, { foreignKey: 'awayTeam', as: 'teamAway' });\n\nexport default Match;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"21c4efd1f363ccbcb2bce6d442c6d2732e687298"},"/home/igor/portfolio-projects/tfc/app/backend/src/routes/LeaderboardRouter.ts":{"path":"/home/igor/portfolio-projects/tfc/app/backend/src/routes/LeaderboardRouter.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":32},"end":{"line":4,"column":79}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":46}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":33}},"5":{"start":{"line":11,"column":8},"end":{"line":11,"column":74}},"6":{"start":{"line":12,"column":8},"end":{"line":12,"column":74}},"7":{"start":{"line":13,"column":8},"end":{"line":13,"column":69}},"8":{"start":{"line":16,"column":0},"end":{"line":16,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":18},"end":{"line":9,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":24},"end":{"line":14,"column":5}},"line":10}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/igor/portfolio-projects/tfc/app/backend/src/routes/LeaderboardRouter.ts","sources":["/home/igor/portfolio-projects/tfc/app/backend/src/routes/LeaderboardRouter.ts"],"names":[],"mappings":";;AAAA,qCAAiC;AACjC,gFAAyE;AAEzE,MAAqB,iBAAiB;IAGpC;QACE,IAAI,CAAC,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;QACvB,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IAES,iBAAiB;QACzB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,+BAAqB,CAAC,OAAO,CAAC,CAAC;QACxD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,+BAAqB,CAAC,OAAO,CAAC,CAAC;QACxD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,+BAAqB,CAAC,MAAM,CAAC,CAAC;IACrD,CAAC;CACF;AAbD,oCAaC","sourcesContent":["import { Router } from 'express';\nimport LeaderboardController from '../controllers/LeaderboardController';\n\nexport default class LeaderboardRouter {\n  public router: Router;\n\n  constructor() {\n    this.router = Router();\n    this.leaderboardRouter();\n  }\n\n  protected leaderboardRouter(): void {\n    this.router.get('/home', LeaderboardController.getHome);\n    this.router.get('/away', LeaderboardController.getAway);\n    this.router.get('/', LeaderboardController.getAll);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"cc9cacb2dffbc1715026efb5ad95f522a171f33c"},"/home/igor/portfolio-projects/tfc/app/backend/src/controllers/LeaderboardController.ts":{"path":"/home/igor/portfolio-projects/tfc/app/backend/src/controllers/LeaderboardController.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":29},"end":{"line":3,"column":70}},"2":{"start":{"line":4,"column":21},"end":{"line":4,"column":52}},"3":{"start":{"line":5,"column":20},"end":{"line":5,"column":50}},"4":{"start":{"line":8,"column":8},"end":{"line":14,"column":9}},"5":{"start":{"line":9,"column":27},"end":{"line":9,"column":130}},"6":{"start":{"line":10,"column":12},"end":{"line":10,"column":48}},"7":{"start":{"line":13,"column":12},"end":{"line":13,"column":24}},"8":{"start":{"line":17,"column":8},"end":{"line":23,"column":9}},"9":{"start":{"line":18,"column":27},"end":{"line":18,"column":130}},"10":{"start":{"line":19,"column":12},"end":{"line":19,"column":48}},"11":{"start":{"line":22,"column":12},"end":{"line":22,"column":24}},"12":{"start":{"line":26,"column":8},"end":{"line":32,"column":9}},"13":{"start":{"line":27,"column":27},"end":{"line":27,"column":129}},"14":{"start":{"line":28,"column":12},"end":{"line":28,"column":48}},"15":{"start":{"line":31,"column":12},"end":{"line":31,"column":24}},"16":{"start":{"line":35,"column":0},"end":{"line":35,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":41},"end":{"line":15,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":41},"end":{"line":24,"column":5}},"line":16},"2":{"name":"(anonymous_2)","decl":{"start":{"line":25,"column":4},"end":{"line":25,"column":5}},"loc":{"start":{"line":25,"column":40},"end":{"line":33,"column":5}},"line":25}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":2,"6":1,"7":1,"8":2,"9":2,"10":1,"11":1,"12":2,"13":2,"14":1,"15":1,"16":1},"f":{"0":2,"1":2,"2":2},"b":{},"inputSourceMap":{"version":3,"file":"/home/igor/portfolio-projects/tfc/app/backend/src/controllers/LeaderboardController.ts","sources":["/home/igor/portfolio-projects/tfc/app/backend/src/controllers/LeaderboardController.ts"],"names":[],"mappings":";;AACA,uEAAgE;AAChE,qDAA8C;AAC9C,mDAA4C;AAE5C,MAA8B,qBAAqB;IACjD,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;QAClE,IAAI;YACF,MAAM,MAAM,GAAG,MACf,IAAI,4BAAkB,CAAC,IAAI,mBAAS,EAAE,EAAE,IAAI,oBAAU,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC;YACpE,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SACrC;QAAC,OAAO,KAAK,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,CAAC;SACb;IACH,CAAC;IAED,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;QAClE,IAAI;YACF,MAAM,MAAM,GAAG,MACf,IAAI,4BAAkB,CAAC,IAAI,mBAAS,EAAE,EAAE,IAAI,oBAAU,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC;YACpE,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SACrC;QAAC,OAAO,KAAK,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,CAAC;SACb;IACH,CAAC;IAED,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;QACjE,IAAI;YACF,MAAM,MAAM,GAAG,MACf,IAAI,4BAAkB,CAAC,IAAI,mBAAS,EAAE,EAAE,IAAI,oBAAU,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC;YACnE,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SACrC;QAAC,OAAO,KAAK,EAAE;YACd,IAAI,CAAC,KAAK,CAAC,CAAC;SACb;IACH,CAAC;CACF;AA9BD,wCA8BC","sourcesContent":["import { Request, Response, NextFunction } from 'express';\nimport LeaderboardService from '../services/LeaderboardService';\nimport MatchModel from '../models/MatchModel';\nimport TeamModel from '../models/TeamModel';\n\nexport default abstract class LeaderboardController {\n  static async getHome(req: Request, res: Response, next: NextFunction) {\n    try {\n      const result = await\n      new LeaderboardService(new TeamModel(), new MatchModel()).getHome();\n      return res.status(200).json(result);\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  static async getAway(req: Request, res: Response, next: NextFunction) {\n    try {\n      const result = await\n      new LeaderboardService(new TeamModel(), new MatchModel()).getAway();\n      return res.status(200).json(result);\n    } catch (error) {\n      next(error);\n    }\n  }\n\n  static async getAll(req: Request, res: Response, next: NextFunction) {\n    try {\n      const result = await\n      new LeaderboardService(new TeamModel(), new MatchModel()).getAll();\n      return res.status(200).json(result);\n    } catch (error) {\n      next(error);\n    }\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bf1a6f0ec9f604ee463ebaa56d11b79b10a6d35e"},"/home/igor/portfolio-projects/tfc/app/backend/src/services/LeaderboardService.ts":{"path":"/home/igor/portfolio-projects/tfc/app/backend/src/services/LeaderboardService.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":35}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":37}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":25}},"4":{"start":{"line":10,"column":8},"end":{"line":23,"column":9}},"5":{"start":{"line":10,"column":25},"end":{"line":10,"column":26}},"6":{"start":{"line":11,"column":12},"end":{"line":22,"column":15}},"7":{"start":{"line":26,"column":8},"end":{"line":38,"column":11}},"8":{"start":{"line":27,"column":12},"end":{"line":37,"column":15}},"9":{"start":{"line":28,"column":16},"end":{"line":36,"column":17}},"10":{"start":{"line":29,"column":20},"end":{"line":29,"column":94}},"11":{"start":{"line":30,"column":20},"end":{"line":31,"column":54}},"12":{"start":{"line":32,"column":20},"end":{"line":33,"column":54}},"13":{"start":{"line":34,"column":20},"end":{"line":35,"column":62}},"14":{"start":{"line":41,"column":8},"end":{"line":57,"column":11}},"15":{"start":{"line":42,"column":12},"end":{"line":56,"column":15}},"16":{"start":{"line":43,"column":16},"end":{"line":55,"column":17}},"17":{"start":{"line":44,"column":20},"end":{"line":47,"column":21}},"18":{"start":{"line":45,"column":24},"end":{"line":45,"column":106}},"19":{"start":{"line":46,"column":24},"end":{"line":46,"column":100}},"20":{"start":{"line":48,"column":20},"end":{"line":51,"column":21}},"21":{"start":{"line":49,"column":24},"end":{"line":49,"column":98}},"22":{"start":{"line":50,"column":24},"end":{"line":50,"column":100}},"23":{"start":{"line":52,"column":20},"end":{"line":54,"column":21}},"24":{"start":{"line":53,"column":24},"end":{"line":53,"column":100}},"25":{"start":{"line":60,"column":8},"end":{"line":72,"column":11}},"26":{"start":{"line":61,"column":12},"end":{"line":71,"column":15}},"27":{"start":{"line":62,"column":16},"end":{"line":70,"column":17}},"28":{"start":{"line":63,"column":20},"end":{"line":63,"column":94}},"29":{"start":{"line":64,"column":20},"end":{"line":65,"column":54}},"30":{"start":{"line":66,"column":20},"end":{"line":67,"column":54}},"31":{"start":{"line":68,"column":20},"end":{"line":69,"column":62}},"32":{"start":{"line":75,"column":8},"end":{"line":91,"column":11}},"33":{"start":{"line":76,"column":12},"end":{"line":90,"column":15}},"34":{"start":{"line":77,"column":16},"end":{"line":89,"column":17}},"35":{"start":{"line":78,"column":20},"end":{"line":81,"column":21}},"36":{"start":{"line":79,"column":24},"end":{"line":79,"column":106}},"37":{"start":{"line":80,"column":24},"end":{"line":80,"column":100}},"38":{"start":{"line":82,"column":20},"end":{"line":85,"column":21}},"39":{"start":{"line":83,"column":24},"end":{"line":83,"column":98}},"40":{"start":{"line":84,"column":24},"end":{"line":84,"column":100}},"41":{"start":{"line":86,"column":20},"end":{"line":88,"column":21}},"42":{"start":{"line":87,"column":24},"end":{"line":87,"column":100}},"43":{"start":{"line":94,"column":8},"end":{"line":97,"column":9}},"44":{"start":{"line":94,"column":25},"end":{"line":94,"column":26}},"45":{"start":{"line":95,"column":12},"end":{"line":96,"column":81}},"46":{"start":{"line":100,"column":8},"end":{"line":104,"column":56}},"47":{"start":{"line":100,"column":35},"end":{"line":104,"column":54}},"48":{"start":{"line":107,"column":23},"end":{"line":107,"column":53}},"49":{"start":{"line":108,"column":8},"end":{"line":108,"column":28}},"50":{"start":{"line":111,"column":23},"end":{"line":111,"column":57}},"51":{"start":{"line":112,"column":8},"end":{"line":112,"column":30}},"52":{"start":{"line":115,"column":8},"end":{"line":115,"column":32}},"53":{"start":{"line":116,"column":8},"end":{"line":116,"column":30}},"54":{"start":{"line":117,"column":8},"end":{"line":117,"column":27}},"55":{"start":{"line":118,"column":8},"end":{"line":118,"column":28}},"56":{"start":{"line":119,"column":8},"end":{"line":119,"column":29}},"57":{"start":{"line":120,"column":8},"end":{"line":120,"column":32}},"58":{"start":{"line":121,"column":8},"end":{"line":121,"column":20}},"59":{"start":{"line":122,"column":8},"end":{"line":122,"column":27}},"60":{"start":{"line":125,"column":8},"end":{"line":125,"column":32}},"61":{"start":{"line":126,"column":8},"end":{"line":126,"column":30}},"62":{"start":{"line":127,"column":8},"end":{"line":127,"column":27}},"63":{"start":{"line":128,"column":8},"end":{"line":128,"column":28}},"64":{"start":{"line":129,"column":8},"end":{"line":129,"column":29}},"65":{"start":{"line":130,"column":8},"end":{"line":130,"column":32}},"66":{"start":{"line":131,"column":8},"end":{"line":131,"column":20}},"67":{"start":{"line":132,"column":8},"end":{"line":132,"column":27}},"68":{"start":{"line":135,"column":8},"end":{"line":135,"column":32}},"69":{"start":{"line":136,"column":8},"end":{"line":136,"column":30}},"70":{"start":{"line":137,"column":8},"end":{"line":137,"column":27}},"71":{"start":{"line":138,"column":8},"end":{"line":138,"column":28}},"72":{"start":{"line":139,"column":8},"end":{"line":139,"column":29}},"73":{"start":{"line":140,"column":8},"end":{"line":140,"column":28}},"74":{"start":{"line":141,"column":8},"end":{"line":141,"column":29}},"75":{"start":{"line":142,"column":8},"end":{"line":142,"column":32}},"76":{"start":{"line":143,"column":8},"end":{"line":143,"column":20}},"77":{"start":{"line":144,"column":8},"end":{"line":144,"column":27}},"78":{"start":{"line":147,"column":0},"end":{"line":147,"column":37}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":39},"end":{"line":8,"column":5}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":18},"end":{"line":24,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":25,"column":4},"end":{"line":25,"column":5}},"loc":{"start":{"line":25,"column":19},"end":{"line":39,"column":5}},"line":25},"3":{"name":"(anonymous_3)","decl":{"start":{"line":26,"column":27},"end":{"line":26,"column":28}},"loc":{"start":{"line":26,"column":44},"end":{"line":38,"column":9}},"line":26},"4":{"name":"(anonymous_4)","decl":{"start":{"line":27,"column":33},"end":{"line":27,"column":34}},"loc":{"start":{"line":27,"column":44},"end":{"line":37,"column":13}},"line":27},"5":{"name":"(anonymous_5)","decl":{"start":{"line":40,"column":4},"end":{"line":40,"column":5}},"loc":{"start":{"line":40,"column":20},"end":{"line":58,"column":5}},"line":40},"6":{"name":"(anonymous_6)","decl":{"start":{"line":41,"column":27},"end":{"line":41,"column":28}},"loc":{"start":{"line":41,"column":44},"end":{"line":57,"column":9}},"line":41},"7":{"name":"(anonymous_7)","decl":{"start":{"line":42,"column":33},"end":{"line":42,"column":34}},"loc":{"start":{"line":42,"column":44},"end":{"line":56,"column":13}},"line":42},"8":{"name":"(anonymous_8)","decl":{"start":{"line":59,"column":4},"end":{"line":59,"column":5}},"loc":{"start":{"line":59,"column":19},"end":{"line":73,"column":5}},"line":59},"9":{"name":"(anonymous_9)","decl":{"start":{"line":60,"column":27},"end":{"line":60,"column":28}},"loc":{"start":{"line":60,"column":44},"end":{"line":72,"column":9}},"line":60},"10":{"name":"(anonymous_10)","decl":{"start":{"line":61,"column":33},"end":{"line":61,"column":34}},"loc":{"start":{"line":61,"column":44},"end":{"line":71,"column":13}},"line":61},"11":{"name":"(anonymous_11)","decl":{"start":{"line":74,"column":4},"end":{"line":74,"column":5}},"loc":{"start":{"line":74,"column":20},"end":{"line":92,"column":5}},"line":74},"12":{"name":"(anonymous_12)","decl":{"start":{"line":75,"column":27},"end":{"line":75,"column":28}},"loc":{"start":{"line":75,"column":44},"end":{"line":91,"column":9}},"line":75},"13":{"name":"(anonymous_13)","decl":{"start":{"line":76,"column":33},"end":{"line":76,"column":34}},"loc":{"start":{"line":76,"column":44},"end":{"line":90,"column":13}},"line":76},"14":{"name":"(anonymous_14)","decl":{"start":{"line":93,"column":4},"end":{"line":93,"column":5}},"loc":{"start":{"line":93,"column":23},"end":{"line":98,"column":5}},"line":93},"15":{"name":"(anonymous_15)","decl":{"start":{"line":99,"column":4},"end":{"line":99,"column":5}},"loc":{"start":{"line":99,"column":11},"end":{"line":105,"column":5}},"line":99},"16":{"name":"(anonymous_16)","decl":{"start":{"line":100,"column":25},"end":{"line":100,"column":26}},"loc":{"start":{"line":100,"column":35},"end":{"line":104,"column":54}},"line":100},"17":{"name":"(anonymous_17)","decl":{"start":{"line":106,"column":4},"end":{"line":106,"column":5}},"loc":{"start":{"line":106,"column":21},"end":{"line":109,"column":5}},"line":106},"18":{"name":"(anonymous_18)","decl":{"start":{"line":110,"column":4},"end":{"line":110,"column":5}},"loc":{"start":{"line":110,"column":23},"end":{"line":113,"column":5}},"line":110},"19":{"name":"(anonymous_19)","decl":{"start":{"line":114,"column":4},"end":{"line":114,"column":5}},"loc":{"start":{"line":114,"column":20},"end":{"line":123,"column":5}},"line":114},"20":{"name":"(anonymous_20)","decl":{"start":{"line":124,"column":4},"end":{"line":124,"column":5}},"loc":{"start":{"line":124,"column":20},"end":{"line":133,"column":5}},"line":124},"21":{"name":"(anonymous_21)","decl":{"start":{"line":134,"column":4},"end":{"line":134,"column":5}},"loc":{"start":{"line":134,"column":19},"end":{"line":145,"column":5}},"line":134}},"branchMap":{"0":{"loc":{"start":{"line":28,"column":16},"end":{"line":36,"column":17}},"type":"if","locations":[{"start":{"line":28,"column":16},"end":{"line":36,"column":17}},{"start":{"line":28,"column":16},"end":{"line":36,"column":17}}],"line":28},"1":{"loc":{"start":{"line":28,"column":20},"end":{"line":28,"column":76}},"type":"binary-expr","locations":[{"start":{"line":28,"column":20},"end":{"line":28,"column":46}},{"start":{"line":28,"column":50},"end":{"line":28,"column":76}}],"line":28},"2":{"loc":{"start":{"line":43,"column":16},"end":{"line":55,"column":17}},"type":"if","locations":[{"start":{"line":43,"column":16},"end":{"line":55,"column":17}},{"start":{"line":43,"column":16},"end":{"line":55,"column":17}}],"line":43},"3":{"loc":{"start":{"line":43,"column":20},"end":{"line":43,"column":76}},"type":"binary-expr","locations":[{"start":{"line":43,"column":20},"end":{"line":43,"column":46}},{"start":{"line":43,"column":50},"end":{"line":43,"column":76}}],"line":43},"4":{"loc":{"start":{"line":44,"column":20},"end":{"line":47,"column":21}},"type":"if","locations":[{"start":{"line":44,"column":20},"end":{"line":47,"column":21}},{"start":{"line":44,"column":20},"end":{"line":47,"column":21}}],"line":44},"5":{"loc":{"start":{"line":48,"column":20},"end":{"line":51,"column":21}},"type":"if","locations":[{"start":{"line":48,"column":20},"end":{"line":51,"column":21}},{"start":{"line":48,"column":20},"end":{"line":51,"column":21}}],"line":48},"6":{"loc":{"start":{"line":52,"column":20},"end":{"line":54,"column":21}},"type":"if","locations":[{"start":{"line":52,"column":20},"end":{"line":54,"column":21}},{"start":{"line":52,"column":20},"end":{"line":54,"column":21}}],"line":52},"7":{"loc":{"start":{"line":62,"column":16},"end":{"line":70,"column":17}},"type":"if","locations":[{"start":{"line":62,"column":16},"end":{"line":70,"column":17}},{"start":{"line":62,"column":16},"end":{"line":70,"column":17}}],"line":62},"8":{"loc":{"start":{"line":62,"column":20},"end":{"line":62,"column":76}},"type":"binary-expr","locations":[{"start":{"line":62,"column":20},"end":{"line":62,"column":46}},{"start":{"line":62,"column":50},"end":{"line":62,"column":76}}],"line":62},"9":{"loc":{"start":{"line":77,"column":16},"end":{"line":89,"column":17}},"type":"if","locations":[{"start":{"line":77,"column":16},"end":{"line":89,"column":17}},{"start":{"line":77,"column":16},"end":{"line":89,"column":17}}],"line":77},"10":{"loc":{"start":{"line":77,"column":20},"end":{"line":77,"column":76}},"type":"binary-expr","locations":[{"start":{"line":77,"column":20},"end":{"line":77,"column":46}},{"start":{"line":77,"column":50},"end":{"line":77,"column":76}}],"line":77},"11":{"loc":{"start":{"line":78,"column":20},"end":{"line":81,"column":21}},"type":"if","locations":[{"start":{"line":78,"column":20},"end":{"line":81,"column":21}},{"start":{"line":78,"column":20},"end":{"line":81,"column":21}}],"line":78},"12":{"loc":{"start":{"line":82,"column":20},"end":{"line":85,"column":21}},"type":"if","locations":[{"start":{"line":82,"column":20},"end":{"line":85,"column":21}},{"start":{"line":82,"column":20},"end":{"line":85,"column":21}}],"line":82},"13":{"loc":{"start":{"line":86,"column":20},"end":{"line":88,"column":21}},"type":"if","locations":[{"start":{"line":86,"column":20},"end":{"line":88,"column":21}},{"start":{"line":86,"column":20},"end":{"line":88,"column":21}}],"line":86},"14":{"loc":{"start":{"line":100,"column":35},"end":{"line":104,"column":54}},"type":"binary-expr","locations":[{"start":{"line":100,"column":35},"end":{"line":100,"column":80}},{"start":{"line":101,"column":15},"end":{"line":101,"column":66}},{"start":{"line":102,"column":15},"end":{"line":102,"column":62}},{"start":{"line":103,"column":15},"end":{"line":103,"column":58}},{"start":{"line":104,"column":15},"end":{"line":104,"column":54}}],"line":100}},"s":{"0":1,"1":6,"2":6,"3":6,"4":3,"5":3,"6":48,"7":2,"8":32,"9":1632,"10":80,"11":80,"12":80,"13":80,"14":2,"15":32,"16":1632,"17":80,"18":30,"19":30,"20":80,"21":20,"22":20,"23":80,"24":30,"25":2,"26":32,"27":1632,"28":80,"29":80,"30":80,"31":80,"32":2,"33":32,"34":1632,"35":80,"36":30,"37":30,"38":80,"39":20,"40":20,"41":80,"42":30,"43":3,"44":3,"45":48,"46":3,"47":138,"48":6,"49":3,"50":6,"51":6,"52":2,"53":2,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":2,"61":2,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":2,"69":2,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1},"f":{"0":6,"1":3,"2":2,"3":32,"4":1632,"5":2,"6":32,"7":1632,"8":2,"9":32,"10":1632,"11":2,"12":32,"13":1632,"14":3,"15":3,"16":138,"17":6,"18":6,"19":2,"20":2,"21":2},"b":{"0":[80,1552],"1":[1632,1280],"2":[80,1552],"3":[1632,1280],"4":[30,50],"5":[20,60],"6":[30,50],"7":[80,1552],"8":[1632,1280],"9":[80,1552],"10":[1632,1280],"11":[30,50],"12":[20,60],"13":[30,50],"14":[138,36,36,7,0]},"inputSourceMap":{"version":3,"file":"/home/igor/portfolio-projects/tfc/app/backend/src/services/LeaderboardService.ts","sources":["/home/igor/portfolio-projects/tfc/app/backend/src/services/LeaderboardService.ts"],"names":[],"mappings":"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","sourcesContent":["import { ITeamModel, IMatchModel } from '../interfaces/IModels';\nimport { IRanking } from '../interfaces/IRanking';\nimport { ILeaderboardService } from '../interfaces/IServices';\nimport { IMatchComplete } from '../interfaces/IMatch';\nimport ITeam from '../interfaces/ITeam';\n\nexport default class LeaderboardService implements ILeaderboardService {\n  teams: ITeam[];\n  matches: IMatchComplete[];\n  result: IRanking[];\n\n  constructor(\n    private teamModel: ITeamModel,\n    private matchModel: IMatchModel,\n  ) {\n    this.result = [];\n  }\n\n  createTeams(): void {\n    for (let index = 0; index <= this.teams.length - 1; index += 1) {\n      this.result.push({\n        name: this.teams[index].teamName,\n        totalPoints: 0,\n        totalGames: 0,\n        totalVictories: 0,\n        totalDraws: 0,\n        totalLosses: 0,\n        goalsFavor: 0,\n        goalsOwn: 0,\n        goalsBalance: 0,\n        efficiency: 0,\n\n      });\n    }\n  }\n\n  getHomeGoals(): void {\n    this.teams.forEach((team, index) => {\n      this.matches.forEach((match) => {\n        if (match.inProgress === false && match.homeTeam === team.id) {\n          this.result[index].totalGames = Number(this.result[index].totalGames) + 1;\n          this.result[index].goalsFavor = Number(this.result[index].goalsFavor)\n            + Number(match.homeTeamGoals);\n          this.result[index].goalsOwn = Number(this.result[index].goalsOwn)\n            + Number(match.awayTeamGoals);\n          this.result[index].goalsBalance = Number(this.result[index].goalsFavor)\n            - Number(this.result[index].goalsOwn);\n        }\n      });\n    });\n  }\n\n  getHomePoints(): void {\n    this.teams.forEach((team, index) => {\n      this.matches.forEach((match) => {\n        if (match.inProgress === false && match.homeTeam === team.id) {\n          if (Number(match.homeTeamGoals) > Number(match.awayTeamGoals)) {\n            this.result[index].totalVictories = Number(this.result[index].totalVictories) + 1;\n            this.result[index].totalPoints = Number(this.result[index].totalPoints) + 3;\n          }\n          if (Number(match.homeTeamGoals) === Number(match.awayTeamGoals)) {\n            this.result[index].totalDraws = Number(this.result[index].totalDraws) + 1;\n            this.result[index].totalPoints = Number(this.result[index].totalPoints) + 1;\n          }\n          if (Number(match.homeTeamGoals) < Number(match.awayTeamGoals)) {\n            this.result[index].totalLosses = Number(this.result[index].totalLosses) + 1;\n          }\n        }\n      });\n    });\n  }\n\n  getAwayGoals(): void {\n    this.teams.forEach((team, index) => {\n      this.matches.forEach((match) => {\n        if (match.inProgress === false && match.awayTeam === team.id) {\n          this.result[index].totalGames = Number(this.result[index].totalGames) + 1;\n          this.result[index].goalsFavor = Number(this.result[index].goalsFavor)\n            + Number(match.awayTeamGoals);\n          this.result[index].goalsOwn = Number(this.result[index].goalsOwn)\n            + Number(match.homeTeamGoals);\n          this.result[index].goalsBalance = Number(this.result[index].goalsFavor)\n            - Number(this.result[index].goalsOwn);\n        }\n      });\n    });\n  }\n\n  getAwayPoints(): void {\n    this.teams.forEach((team, index) => {\n      this.matches.forEach((match) => {\n        if (match.inProgress === false && match.awayTeam === team.id) {\n          if (Number(match.homeTeamGoals) < Number(match.awayTeamGoals)) {\n            this.result[index].totalVictories = Number(this.result[index].totalVictories) + 1;\n            this.result[index].totalPoints = Number(this.result[index].totalPoints) + 3;\n          }\n          if (Number(match.homeTeamGoals) === Number(match.awayTeamGoals)) {\n            this.result[index].totalDraws = Number(this.result[index].totalDraws) + 1;\n            this.result[index].totalPoints = Number(this.result[index].totalPoints) + 1;\n          }\n          if (Number(match.homeTeamGoals) > Number(match.awayTeamGoals)) {\n            this.result[index].totalLosses = Number(this.result[index].totalLosses) + 1;\n          }\n        }\n      });\n    });\n  }\n\n  updateEfficiency(): void {\n    for (let index = 0; index <= this.teams.length - 1; index += 1) {\n      this.result[index].efficiency = Number((Number(this.result[index].totalPoints)\n        / (Number(this.result[index].totalGames) * 3)) * 100).toFixed(2);\n    }\n  }\n\n  sort(): void {\n    this.result.sort((a, b) => Number(b.totalPoints) - Number(a.totalPoints)\n    || Number(b.totalVictories) - Number(a.totalVictories)\n    || Number(b.goalsBalance) - Number(a.goalsBalance)\n    || Number(b.goalsFavor) - Number(a.goalsFavor)\n    || Number(b.goalsOwn) - Number(a.goalsOwn));\n  }\n\n  async getTeams(): Promise<void> {\n    const result = await this.teamModel.findAll();\n    this.teams = result;\n  }\n\n  async getMatches(): Promise<void> {\n    const result = await this.matchModel.getMatches();\n    this.matches = result;\n  }\n\n  async getHome(): Promise<IRanking[]> {\n    await this.getMatches();\n    await this.getTeams();\n    this.createTeams();\n    this.getHomeGoals();\n    this.getHomePoints();\n    this.updateEfficiency();\n    this.sort();\n    return this.result;\n  }\n\n  async getAway(): Promise<IRanking[]> {\n    await this.getMatches();\n    await this.getTeams();\n    this.createTeams();\n    this.getAwayGoals();\n    this.getAwayPoints();\n    this.updateEfficiency();\n    this.sort();\n    return this.result;\n  }\n\n  async getAll(): Promise<IRanking[]> {\n    await this.getMatches();\n    await this.getTeams();\n    this.createTeams();\n    this.getHomeGoals();\n    this.getHomePoints();\n    this.getAwayGoals();\n    this.getAwayPoints();\n    this.updateEfficiency();\n    this.sort();\n    return this.result;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4749e346e476f72adc25758a2e8c7a0d6f0823e1"},"/home/igor/portfolio-projects/tfc/app/backend/src/middlewares/Limiter.ts":{"path":"/home/igor/portfolio-projects/tfc/app/backend/src/middlewares/Limiter.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":29},"end":{"line":3,"column":58}},"2":{"start":{"line":4,"column":16},"end":{"line":9,"column":2}},"3":{"start":{"line":10,"column":0},"end":{"line":10,"column":26}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/igor/portfolio-projects/tfc/app/backend/src/middlewares/Limiter.ts","sources":["/home/igor/portfolio-projects/tfc/app/backend/src/middlewares/Limiter.ts"],"names":[],"mappings":";;AAAA,2DAA2C;AAE3C,MAAM,OAAO,GAAG,IAAA,4BAAS,EAAC;IACxB,QAAQ,EAAE,EAAE,GAAG,EAAE,GAAG,IAAI;IACxB,GAAG,EAAE,GAAG;IACR,eAAe,EAAE,IAAI;IACrB,aAAa,EAAE,KAAK,EAAE,sCAAsC;CAC7D,CAAC,CAAC;AAEH,kBAAe,OAAO,CAAC","sourcesContent":["import rateLimit from 'express-rate-limit';\n\nconst limiter = rateLimit({\n  windowMs: 15 * 60 * 1000, // 15 minutes\n  max: 100, // Limit each IP to 100 requests per `window` (here, per 15 minutes)\n  standardHeaders: true, // Return rate limit info in the `RateLimit-*` headers\n  legacyHeaders: false, // Disable the `X-RateLimit-*` headers\n});\n\nexport default limiter;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"39947b888141baff4a1769a500e66635558eaa69"}}